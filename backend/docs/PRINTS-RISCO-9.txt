[36m
ÔòöÔòÉÔòÉÔòÉÔòÉÔòÉÔòÉÔòÉÔòÉÔòÉÔòÉÔòÉÔòÉÔòÉÔòÉÔòÉÔòÉÔòÉÔòÉÔòÉÔòÉÔòÉÔòÉÔòÉÔòÉÔòÉÔòÉÔòÉÔòÉÔòÉÔòÉÔòÉÔòÉÔòÉÔòÉÔòÉÔòÉÔòÉÔòÉÔòÉÔòÉÔòÉÔòÉÔòÉÔòÉÔòÉÔòÉÔòÉÔòÉÔòù
Ôòæ  VALIDA├ç├âO - RISCO 9: Planejamento Refei├º├Áes  Ôòæ
Ôòæ  Sistema: FitLife                              Ôòæ
Ôòæ  Data: 14/11/2025                             Ôòæ
ÔòÜÔòÉÔòÉÔòÉÔòÉÔòÉÔòÉÔòÉÔòÉÔòÉÔòÉÔòÉÔòÉÔòÉÔòÉÔòÉÔòÉÔòÉÔòÉÔòÉÔòÉÔòÉÔòÉÔòÉÔòÉÔòÉÔòÉÔòÉÔòÉÔòÉÔòÉÔòÉÔòÉÔòÉÔòÉÔòÉÔòÉÔòÉÔòÉÔòÉÔòÉÔòÉÔòÉÔòÉÔòÉÔòÉÔòÉÔòÉÔòÉÔòØ
[0m
[36m
[1/6] Preparando ambiente de teste...[0m
[33m  Nenhum paciente encontrado, criando paciente de teste...[0m
[32mÔ£ô Paciente de teste criado: fc31ad0c-771c-404a-b8d4-bbd42159cf5d[0m
[36m
[2/6] Executando testes de valida├º├úo...[0m

Teste 1: Deve rejeitar refei├º├úo com nome vazio (constraint check_meal_name_not_empty)
[32mÔ£ô Passou (valida├º├úo funcionando corretamente)[0m

Teste 2: Deve rejeitar data muito futura (constraint check_meal_date_not_too_future)
[32mÔ£ô Passou (valida├º├úo funcionando corretamente)[0m

Teste 3: Deve rejeitar data muito antiga (constraint check_meal_date_not_too_old)
[32mÔ£ô Passou (valida├º├úo funcionando corretamente)[0m

Teste 4: Deve criar refei├º├úo v├ílida para testes
[32mÔ£ô Passou (valida├º├úo funcionando corretamente)[0m

Teste 5: Deve rejeitar calorias negativas (constraint check_calories_non_negative)
[32mÔ£ô Passou (valida├º├úo funcionando corretamente)[0m

Teste 6: Deve rejeitar prote├¡nas negativas (constraint check_proteins_non_negative)
[32mÔ£ô Passou (valida├º├úo funcionando corretamente)[0m

Teste 7: Deve rejeitar carboidratos > 500g (constraint check_carbs_max_limit)
[32mÔ£ô Passou (valida├º├úo funcionando corretamente)[0m

Teste 8: Deve rejeitar calorias > 10000 kcal (constraint check_calories_max_limit)
[32mÔ£ô Passou (valida├º├úo funcionando corretamente)[0m

Teste 9: Deve rejeitar calorias inconsistentes com macros (trigger validate_meal_item_calories)
[32mÔ£ô Passou (valida├º├úo funcionando corretamente)[0m

Teste 10: Deve aceitar valores nutricionais v├ílidos
[32mÔ£ô Passou (valida├º├úo funcionando corretamente)[0m
[36m
[3/6] Testando fun├º├Áes SQL e views...[0m

Teste 11: Deve calcular totais corretamente (fun├º├úo get_meal_totals)
[31mÔ£ù Falhou: structure of query does not match function result type[0m

Teste 12: Deve consultar view meal_summary corretamente
[32mÔ£ô Passou (valida├º├úo funcionando corretamente)[0m
[36m
[4/6] Verificando ├¡ndices de performance...[0m
[32mÔ£ô 3 ├¡ndices encontrados:[0m
  - idx_meal_record_patient_date
  - idx_meal_item_meal_record
  - idx_meal_record_checked
[36m
[5/6] Verificando constraints criadas...[0m
[32mÔ£ô 12 constraints CHECK encontradas:[0m
  - check_calories_max_limit
  - check_calories_non_negative
  - check_carbs_max_limit
  - check_carbs_non_negative
  - check_fats_max_limit
  - check_fats_non_negative
  - check_food_name_not_empty
  - check_meal_date_not_too_future
  - check_meal_date_not_too_old
  - check_meal_name_not_empty
  - check_proteins_max_limit
  - check_proteins_non_negative
[36m
[6/6] Limpando dados de teste...[0m
[32mÔ£ô Dados de teste removidos[0m

==================================================
[34mRELAT├ôRIO FINAL[0m
==================================================

Total de testes: 12
[32mTestes passaram: 11[0m
[31mTestes falharam: 1[0m

==================================================
[31mÔØî ALGUNS TESTES FALHARAM[0m
[31mVerifique as implementa├º├Áes acima[0m
==================================================

